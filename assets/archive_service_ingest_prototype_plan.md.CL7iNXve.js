import{_ as i,c as t,o as a,ag as r}from"./chunks/framework._dqZt2de.js";const u=JSON.parse('{"title":"Service Ingest Prototype Plan","description":"","frontmatter":{},"headers":[],"relativePath":"archive/service_ingest_prototype_plan.md","filePath":"archive/service_ingest_prototype_plan.md"}'),o={name:"archive/service_ingest_prototype_plan.md"};function l(s,e,n,c,p,d){return a(),t("div",null,[...e[0]||(e[0]=[r('<h1 id="service-ingest-prototype-plan" tabindex="-1">Service Ingest Prototype Plan <a class="header-anchor" href="#service-ingest-prototype-plan" aria-label="Permalink to &quot;Service Ingest Prototype Plan&quot;">​</a></h1><p><strong>Objective:</strong> Build the first iteration of the automated service import + validation pipeline using the existing Greater London dataset (<code>services.csv</code> / KML).</p><h2 id="_1-scope" tabindex="-1">1. Scope <a class="header-anchor" href="#_1-scope" aria-label="Permalink to &quot;1. Scope&quot;">​</a></h2><ul><li>Parse the KML/CSV file, normalize to canonical <code>Service</code> + <code>Provider</code> schema.</li><li>Store results in local development database (Postgres/Supabase branch).</li><li>Provide minimal admin UI (or CLI output) to review imported entries and flag duplicates/missing data.</li></ul><h2 id="_2-steps" tabindex="-1">2. Steps <a class="header-anchor" href="#_2-steps" aria-label="Permalink to &quot;2. Steps&quot;">​</a></h2><ol><li><p><strong>Data Inspection</strong></p><ul><li>[ ] Confirm latest dataset version and metadata (source, timestamp).</li><li>[ ] Identify required fields (name, category, location, hours, provider, contact info).</li></ul></li><li><p><strong>Parser Development</strong></p><ul><li>[ ] Implement TypeScript/Node script to parse KML (using <code>xml2js</code> or similar) and map to schema.</li><li>[ ] Normalize categories + borough names.</li><li>[ ] Geocode or validate coordinates.</li></ul></li><li><p><strong>Validation Rules</strong></p><ul><li>[ ] Duplicate detection (same name + postcode).</li><li>[ ] Required fields present; log errors for missing data.</li><li>[ ] Hours format normalization; fallback to “call to confirm” when missing.</li></ul></li><li><p><strong>Persistence Layer</strong></p><ul><li>[ ] Use Prisma migrations to create <code>Service</code>, <code>Provider</code>, <code>ServiceImportLog</code> tables.</li><li>[ ] Upsert logic: match by provider + service name when re-running imports.</li><li>[ ] Store raw payloads for audit.</li></ul></li><li><p><strong>Review Interface</strong></p><ul><li>[ ] Minimal web page (internal route) listing latest imports, error states, duplicates.</li><li>[ ] Approve/reject buttons (optional for prototype) or CLI summary.</li></ul></li><li><p><strong>Reporting &amp; Metrics</strong></p><ul><li>[ ] Emit counts: services imported, duplicates, missing fields.</li><li>[ ] Export summary CSV for manual review by partnerships team.</li></ul></li></ol><h2 id="_3-timeline" tabindex="-1">3. Timeline <a class="header-anchor" href="#_3-timeline" aria-label="Permalink to &quot;3. Timeline&quot;">​</a></h2><ul><li>Week 1: Data inspection + parser scaffold.</li><li>Week 2: Validation + persistence.</li><li>Week 3: Review UI + reporting.</li></ul><h2 id="_4-owners-dependencies" tabindex="-1">4. Owners / Dependencies <a class="header-anchor" href="#_4-owners-dependencies" aria-label="Permalink to &quot;4. Owners / Dependencies&quot;">​</a></h2><ul><li><strong>Owner:</strong> Engineering lead (assign specific dev).</li><li><strong>Dependencies:</strong> Access to latest dataset, decision on Postgres vs PlanetScale, availability of admin credentials.</li></ul><h2 id="_5-deliverables" tabindex="-1">5. Deliverables <a class="header-anchor" href="#_5-deliverables" aria-label="Permalink to &quot;5. Deliverables&quot;">​</a></h2><ul><li>Reusable import script (<code>scripts/import-services.ts</code>).</li><li>Database schema + seed data from import.</li><li>README section documenting how to run import locally.</li><li>Demo to partnerships/community team for feedback.</li></ul>',12)])])}const g=i(o,[["render",l]]);export{u as __pageData,g as default};
